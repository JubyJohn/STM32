/**********LED INTERFACING***********/

* Project -> Core -> Src -> main.c


#include "stm32f4xx.h"
void delay();

int main()
{
	// PD14 LD5 RED
	// ENABLING CORRESPONDING DATA BUS OF GPIO PORTD WITH REFERENCE MANUAL 6.3.9 RCC GPIOD
	RCC->AHB1ENR |= 1<<3; //PORT D - LED

	// ENABLE CLK TO GPIOA WITH (01) GP OUTPUT MODE
	// ENABLING CORRESPONDING GPIO PIN WITH REFERENCE MANUAL 8.4.1 GPIO
	// FOR DOING & OPERATIOIN, EXCEPT THE DESIRED BIT, OTHER BITS ARE INVERTED TO STATE 1
	// THEN & OPERATED WITH REGISTER
	GPIOD->MODER &= ~(1<<29); //PD14 -> 29,28  (01)
	// OR OPERATOR USED TO GET THE DESIRED BIT TO STATE 1
	GPIOD->MODER |= 1<<28;

	  while(1)
	  {
		// ENABLING CORRESPONDING GPIO PIN TO O/P WITH REFERENCE MANUAL 8.4.6 GPIO OUTPUT
		GPIOD->ODR |= 1<<14;
		delay();
		//CHECK WITHOUT OFF STATE
		GPIOD->ODR &= ~(1<<14); // OFF STATE OF LED
		delay();
	  }

	return 0;
}

void delay()              //Function for making delay

{
    int i,j;

    for(i=0;i<1000;i++)

      for(j=0;j<=1000;j++);
}

/************LED WITH PUSHBUTTON INTERFACING************************/

#include "stm32f4xx.h"
int main()
{
	 // PA0 USER PUSHBUTTON,PD13  LD3 ORANGE
	// ENABLING CORRESPONDING DATA BUS OF GPIO PORTS WITH REFERENCE MANUAL 6.3.9 RCC_AHB1EN
	RCC->AHB1ENR |= 1<<0;   // PORT A - PUSHBUTTON
	RCC->AHB1ENR |= 1<<3;  //  PORT D - LED


	// WITH REFERENCE MANUAL 8.4.1 GPIOA (00)-I/P DATA REG
	// ENABLE CLK TO GPIOA WITH (00)-I/P MODE
	GPIOA->MODER &= ~(1<<0);    // PA0 -> 1,0 => (00)
	GPIOA->MODER &= ~(1<<1);

    // REFERENCE MANUAL 8.4.1 GPIOD (01)-O/P DATA REG
	// ENABLE CLK TO GPIOD WITH (01)-O/P MODE
	GPIOD->MODER |= 1<<26;     // PD13 -> 26,27 => (01)
	GPIOD->MODER &= ~(1<<27);

	  while(1)
	  {
		    // CHECKING GPIOA PIN AS I/P WITH REFERENCE MANUAL 8.4.5 GPIO INTPUT DATA REGISTER
			if((GPIOA->IDR) & (1<<0))
			{
				// ENABLING CORRESPONDING GPIOD PIN TO O/P WITH REFERENCE MANUAL 8.4.6 GPIO OUTPUT
				GPIOD->ODR |= 1<<13;
			}
			else
			{
				GPIOD->ODR &= ~(1<<13); // OFF STATE OF LED

			}

	  }

	return 0;
}

